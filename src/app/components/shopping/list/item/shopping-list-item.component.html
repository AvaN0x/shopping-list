<app-horizontal-pan class="item-wrapper" (horizontalPanLeft)="increment()" (horizontalPanRight)="decrement()">
  <app-horizontal-pan-action-left aria-label="Ajouter">
    <mat-icon>add_shopping_cart</mat-icon>
  </app-horizontal-pan-action-left>
  <app-horizontal-pan-action-right aria-label="Enlever">
    <mat-icon>remove_shopping_cart</mat-icon>
  </app-horizontal-pan-action-right>

  <app-horizontal-pan-item class="item">
    <div class="item-handle" cdkDragHandle>
      <mat-icon inline>drag_handle</mat-icon>
    </div>

    <div class="item-content" appLongPress (longPress)="openMenu()">
      <div class="item-label">
        @if ((itemData()?.quantity ?? 0) > 1) {
        <span class="item-quantity">x{{ itemData()?.quantity }} </span>
        }{{ itemData()?.label ?? itemId }}
      </div>

      <div class="item-context">
        <button mat-icon-button aria-label="Option de l'élément" [matMenuTriggerFor]="contextMenu"
          class="item-context-trigger" (click)="$event.stopPropagation()">
          <mat-icon inline>more_vert</mat-icon>
        </button>
        <mat-menu #contextMenu="matMenu" class="context-menu" xPosition="before" yPosition="below">
          <button mat-menu-item (click)="increment()">
            <mat-icon>add_shopping_cart</mat-icon>
            Ajouter
          </button>
          <button mat-menu-item (click)="decrement()">
            <mat-icon>remove_shopping_cart</mat-icon>
            Enlever
          </button>
          <button mat-menu-item (click)="rename()">
            <mat-icon>label</mat-icon>
            Renommer
          </button>
          <button mat-menu-item (click)="remove()">
            <mat-icon>delete</mat-icon>
            Supprimer
          </button>
        </mat-menu>
      </div>
    </div>
  </app-horizontal-pan-item>
</app-horizontal-pan>